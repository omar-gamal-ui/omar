<form id="requestForm">
  <input type="text" id="name" placeholder="الاسم" required>
  <input type="url" id="image" placeholder="رابط صورة الإعلان" required>
  <select id="mainService" required>
    <option value="">اختر نوع الخدمة</option>
    <option value="تصاميم الجرافيك">تصاميم الجرافيك</option>
    <option value="مونتاج الفيديوهات">مونتاج الفيديوهات</option>
    <option value="تسويق المنتجات">تسويق المنتجات</option>
  </select>
  <select id="subService" required>
    <option value="">اختر النوع الفرعي</option>
  </select>
  <input type="tel" id="phone" placeholder="رقم الواتس" required>
  <input type="number" id="price" placeholder="السعر" required>
  <button type="submit">إضافة الإعلان</button>
</form>

<script>
const mainService = document.getElementById('mainService');
const subService = document.getElementById('subService');

const subOptions = {
  "تصاميم الجرافيك": ["تصميم لوجوهات", "تصاميم هندسية", "إعلانات poster","تصميم هوية شخصية","تصميم صور مصغرة","تصميم منيو مطاعم أو مولات","خدمات ضبط الصورة","تصميم CV","تصميم دعوات لحفلات أو أفراح"],
  "مونتاج الفيديوهات": ["مونتاج الفيديوهات","تصميم فيديوهات إعلانية","تصميم فيديوهات بالذكاء الاصطناعي","تصميم الفيديوهات من الصوت أو النص"],
  "تسويق المنتجات": ["تسويق المنتجات"]
};

mainService.addEventListener('change', () => {
  subService.innerHTML = '<option value="">اختر النوع الفرعي</option>';
  if(mainService.value && subOptions[mainService.value]){
    subOptions[mainService.value].forEach(opt=>{
      const option = document.createElement('option');
      option.value = opt; option.textContent = opt;
      subService.appendChild(option);
    });
  }
});

const form = document.getElementById('requestForm');

form.addEventListener('submit',(e)=>{
  e.preventDefault();
  const name = document.getElementById('name').value;
  const image = document.getElementById('image').value;
  const main = mainService.value;
  const sub = subService.value;
  const phone = document.getElementById('phone').value;
  const price = document.getElementById('price').value;

  // جلب البيانات القديمة من localStorage أو إنشاء مصفوفة جديدة
  let ads = JSON.parse(localStorage.getItem(sub)) || [];
  ads.push({name,image,main,phone,price});
  localStorage.setItem(sub, JSON.stringify(ads));

  alert('تم إضافة الإعلان! يمكنك رؤية الكرت في الصفحة الفرعية الخاصة بالخدمة.');
  form.reset();
  subService.innerHTML = '<option value="">اختر النوع الفرعي</option>';
});
</script>
